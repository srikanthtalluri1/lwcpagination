if (tab == 'Application' && allOrMy == 'allwaivers') {
    String condition = "Waiver_Id__r.Type__c = 'Application'";

    if (Test.isRunningTest()) {
        query += query.contains('WHERE') ? ' AND ' + condition : ' WHERE ' + condition;
        countQuery += countQuery.contains('WHERE') ? ' AND ' + condition : ' WHERE ' + condition;
    } else {
        query += query.contains('WHERE')
            ? ' AND ' + condition
            : ' WHERE ' + condition;

        countQuery += countQuery.contains('WHERE')
            ? ' AND ' + condition
            : ' WHERE ' + condition;
    }
}
