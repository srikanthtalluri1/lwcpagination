 let isValid = true;

    // validate all input fields before collecting values
    this.template.querySelectorAll('lightning-input-field').forEach(el => {
        if (!el.reportValidity()) {
            isValid = false;
        }
    });

    if (!isValid) {
        this.dispatchEvent(
            new ShowToastEvent({
                title: 'Missing Required Fields',
                message: 'Please fill in all required fields before saving.',
                variant: 'error'
            })
        );
        return; // stop execution, don't call Apex
    }
